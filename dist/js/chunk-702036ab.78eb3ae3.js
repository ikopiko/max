(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-702036ab"],{"3abb":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",[n("b-col",{attrs:{cols:"3"}}),n("b-col",{attrs:{cols:"3"}}),n("b-col",{attrs:{cols:"3"}},[t._v(t._s(t.timeNow))])],1),n("b-row",[n("b-col",{attrs:{cols:"3"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{attrs:{cols:"2"}},[n("div",{staticClass:"inOut",on:{click:function(e){return t.timeFoo("in")}}},[t._v("IN")])]),n("b-col",{attrs:{cols:"2"}},[n("div",{staticClass:"inOut",on:{click:function(e){return t.timeFoo("out")}}},[t._v("OUT")])]),n("b-col",{attrs:{cols:"2"}})],1),n("br"),n("b-row",[n("b-col",{attrs:{cols:"3"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{attrs:{cols:"4"}},[n("div",{staticClass:"break",on:{click:function(e){return t.timeFoo("br_start")}}},[t._v("Start Break")])]),n("b-col",{attrs:{cols:"2"}})],1),n("br"),n("b-row",[n("b-col",{attrs:{cols:"3"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{attrs:{cols:"4"}},[n("div",{staticClass:"break",on:{click:function(e){return t.timeFoo("br_end")}}},[t._v("End break")])]),n("b-col",{attrs:{cols:"2"}})],1),n("br"),n("b-row",[n("b-col",{attrs:{cols:"3"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}}),n("b-col",{staticClass:"text-center",attrs:{cols:"1","align-v":"center"}},[n("div")]),n("b-col",{attrs:{cols:"2"}},[n("div",{staticClass:"correction",on:{click:function(e){return t.correctionFoo()}}},[t._v("Correction")])]),n("b-col",{attrs:{cols:"2"}},[n("div",{staticClass:"exit",on:{click:function(e){return t.exitFoo()}}},[t._v("EXIT")])]),n("b-col",{attrs:{cols:"2"}})],1)],1)},r=[],o=(n("c975"),n("0bce")),a=n("bc3a"),i=n.n(a),c={name:"dashboard",components:{},data:function(){return{loggedUser:{},enteredPin:"",pinDecon:["-","-","-","-"],date:Date().toLocaleString(),loginToken:"",pinUser:{first_name:"",role:""}}},computed:{pinSync:function(){return this.pinDecon},timeNow:function(){return this.date}},beforeRouteEnter:function(t,e,n){n((function(t){"admin"!==t.$store.state.auth.user.data.role||"posaccess"!==t.$store.state.auth.user.data.role?t.$router.push({name:"timetable"}):t.$router.push({name:"dashboard"})}))},d:function(){var t=this;this.$store.dispatch(o["a"],[{title:"Dashboard"}]),this.loggedUser=this.$store.state.auth.user.data,window.addEventListener("keypress",(function(e){t.logKey(e)}))},methods:{timeFoo:function(t){var e="https://max.ronnyspizza.ge/rest/web/index.php?r=v1/timesheet/";if("in"===t){var n=e+"start";alert("Work Day Started!"),this.sendTimesheet(n)}else if("out"===t){n=e+"finish";alert("Work Day Ended!"),this.sendTimesheet(n)}else if("br_start"===t){n=e+"start-break";alert("Break Started!"),this.sendTimesheet(n)}else if("br_end"===t){n=e+"end-break";alert("End Of Break!"),this.sendTimesheet(n)}},sendTimesheet:function(t){var e=localStorage.getItem("TOKEN");i.a.request({method:"post",url:t,headers:{Authorization:"Bearer "+e}}).then((function(t){console.log("responese: ",t)})),this.pinUser={first_name:"",role:""}},correctionFoo:function(){alert("Correction Function")},exitFoo:function(){alert("Exit Function")},pinChar:function(t){if("clear"===t)alert("Input Cleared"),this.pinDecon=["-","-","-","-"],this.enteredPin="";else if("enter"===t)alert("Done");else if(4===this.enteredPin.length)this.login(this.enteredPin),this.pinDecon=["-","-","-","-"],this.enteredPin="";else{var e=this.pinDecon.indexOf("-");this.pinDecon[e]=t,this.enteredPin=this.enteredPin+t,this.$forceUpdate()}},login:function(t){var e=this,n=new FormData;n.set("pin",t),i.a.request({method:"post",url:"https://max.ronnyspizza.ge/ronny/rest/web/index.php?r=auth",data:n}).then((function(t){200!==t.status||t.data.is_error?alert("Login Failed"):(console.log("------",t),e.loginToken=t.data.data.token,e.pinUser=t.data.data)}))},logKey:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return this.pinChar(t.key);evt.preventDefault()}}},l=c,d=(n("d4d6"),n("2877")),u=Object(d["a"])(l,s,r,!1,null,null,null);e["default"]=u.exports},"6c27":function(t,e,n){},d4d6:function(t,e,n){"use strict";n("6c27")}}]);
//# sourceMappingURL=chunk-702036ab.78eb3ae3.js.map